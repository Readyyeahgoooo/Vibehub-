# Cloudflare Workers configuration for Vibe Hub API

name = "vibe-hub-api"
main = "workers/index.ts"
compatibility_date = "2024-01-01"

[vars]
ENVIRONMENT = "production"
ALLOWED_ORIGIN = "https://yourusername.github.io"

# KV Namespace for database
[[kv_namespaces]]
binding = "KV"
id = "your-kv-namespace-id"  # Replace with actual ID after creating namespace

# R2 Bucket for image storage
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "vibe-hub-images"

# Secrets (set via: wrangler secret put SECRET_NAME)
# - OPENROUTER_API_KEY
# - ADMIN_TOKEN

[build]
command = "npm run build:worker"

[dev]
port = 8787
